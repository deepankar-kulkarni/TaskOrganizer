
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>
    @Styles.Render("~/Content/css")
    @Styles.Render("~/Content/Site.css")
    @Styles.Render("~/Content/bootstrap.css")
    @Scripts.Render("~/bundles/modernizr")
    <script src=" https://kit.fontawesome.com/a076d05399.js"></script>
    <script src="~/Scripts/jquery-3.4.1.js"></script>

</head>

<body>
    <div id="viewport">
        <!-- Sidebar -->
        <div id="sidebar">
            <header>
                <a href="#">My App</a>
            </header>
            <ul class="nav">
                @if (User.IsInRole("Admin"))
                {
                    <li>
                        <a href="@Url.Action("AdminDashboard", "UserMvc")">
                            <i class="fa fa-fw fa-home icon"></i>Home
                        </a>
                    </li>
                }
                else
                {
                    <li>
                        <a href="@Url.Action("UserDashboard", "UserMvc")">
                            <i class="fa fa-fw fa-home icon"></i>Home
                        </a>
                    </li>
                }
                <li>
                    <a href="@Url.Action("GetUserWiseTask","UserMvc",new {username= User.Identity.Name})">
                        <i class="far fa-check-circle icon"></i>My Tasks
                    </a>
                </li>
                <li>
                    <a href="@Url.Action("PendingTasksPerUser","UserMvc")">
                        <i class="far fa-check-circle icon"></i>Today's Tasks
                    </a>
                </li>
                @if (User.IsInRole("Admin"))
                {
                    <li>
                        <a href="@Url.Action("getAllTasks","UserMvc")">
                            <i class="fas fa-list icon"></i>All Tasks
                        </a>

                    </li>
                    <li>
                        <a href="@Url.Action("CreateUser","UserMvc")">
                            <i class="fas fa-user-plus"></i>Create New User
                        </a>

                    </li>
                }
                <li>
                    <a href="@Url.Action("Logout","Account")">
                        <i class="fas fa-sign-out-alt"></i>Logout
                    </a>
                </li>

            </ul>
        </div>
        <!-- Content -->
        <div id="content">
            <nav class="navbar navbar-default">
                <div class="container-fluid">
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            @*<button class="AddUser" id="DisplayPendingTasks">Add User</button>*@
                            @*<button id="DisplayPendingTasks" data-toggle="modal" data-target=".bs-example-modal-lg">Get Tasks</button>*@
                            
                        </li>
                        <li><a href="@Url.Action("Dashboard","UserMvc")"><i class="far fa-user icon"></i>@User.Identity.Name</a></li>
                    </ul>
                </div>
            </nav>
            <div id="myModal" class="modal fade" role="dialog" data-url='@Url.Action("PendingTasksPerUser","UserMvc")'></div>
            <div class="container-fluid">
                @RenderBody()
            </div>
        </div>
    </div>

</body>

</html>


@Scripts.Render("~/bundles/bootstrap")
@Scripts.Render("~/bundles/jquery")

    @RenderSection("scripts", required: false)

<script type="text/javascript">
   
        $('#DisplayPendingTasks').on('click', function () {

            var url = $('#myModal').data('url');
            $.get(url, function (data) {
                $('#myModal').html(data);
                $('#myModal').modal('show');

            });

        });
  

</script>